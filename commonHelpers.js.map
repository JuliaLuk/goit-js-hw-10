{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["// import axios from 'axios';\n// axios.defaults.headers.common['x-api-key'] =\n//   'live_jkkLyqjTr8RbEPHLuS5UGhwJV6rcFi9zJesfe2p6RuvQ5zCatKJJ401i56PpvO61';\n\n// function fetchBreeds() {\n//   return axios.get('https://api.thecatapi.com/v1/breeds');\n//   // .then(result => {\n//   //   if (!result.ok) {\n//   //     throw new Error('Oops! Something went wrong! Try reloading the page!');\n//   //   }\n//   //   return result.json();\n//   // })\n//   // .then(data => console.log(data))\n//   // .catch(error => console.log(error));\n// }\n\n// function fetchCatByBreed(breedId) {\n//   return axios.get(\n//     `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n//   );\n//   // .then(response => response.data)\n//   // .catch(error => {\n//   //   console.log(error);\n//   //   throw error;\n//   // });\n// }\n\n// export { fetchBreeds, fetchCatByBreed };\n\n// --------------------\n\nimport axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_jkkLyqjTr8RbEPHLuS5UGhwJV6rcFi9zJesfe2p6RuvQ5zCatKJJ401i56PpvO61';\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1/';\n\nexport const fetchBreeds = () => {\n  return axios.get('breeds').then(response => response.data);\n};\n\nexport const fetchCatByBreed = breedId => {\n  return axios\n    .get(`images/search?breed_ids=${breedId}`)\n    .then(response => response.data[0]);\n};\n","// import { fetchBreeds, fetchCatByBreed } from './cat-api';\n// // import Notiflix from 'notiflix';\n// // import SlimSelect from 'slim-select';\n\n// const select = document.querySelector('.breed-select');\n// const loader = document.querySelector('.loader');\n// const divPicture = document.querySelector('.div-picture');\n// const catInfo = document.querySelector('.cat-info');\n\n// fetchBreeds()\n//   .then(breeds => {\n//     console.log('jcm lt', breeds);\n//     select.style.visibility = 'visible';\n//     // loader.style.display = 'none';\n//     // const cat = breeds\n//     //   .map(breed => `<option value=\"${breed.id}\">${breed.name}</option>`)\n//     //   .join('');\n\n//     select.insertAdjacentHTML('beforeend', createMarkup(breeds.data));\n//   })\n\n//   .catch(error => {\n//     console.log(error);\n//     loader.style.display = 'none';\n//     // Notiflix.Notify.failure(\n//     //   'Oops! Something went wrong! Try reloading the page!'\n//     // );\n//   });\n\n// select.addEventListener('change', hendelSelect);\n// divPicture.innerHTML = '';\n// catInfo.innerHTML = '';\n// function hendelSelect(event) {\n//   event.preventDefault();\n//   const selectedBreed = this.value;\n\n//   loader.style.display = 'block';\n\n//   fetchCatByBreed(selectedBreed).then(breeds => {\n//     // loader.style.display = 'none';\n//     const catData = breeds[0];\n//     divPicture.innerHTML = `\n//     <img class=\"picture\" src=\"${catData.url}\" alt=\"${catData.breeds[0].name}\">`;\n//     catInfo.innerHTML = `\n//       <h2 class=\"title\">${catData.breeds[0].name}</h2>\n//       <p class=\"text\">${catData.breeds[0].description}</p>\n//       <p class=\"temp\"><strong>Temperament:</strong> ${catData.breeds[0].temperament}</p>`;\n//   });\n// }\n\n// function createMarkup(arr) {\n//   return arr\n\n//     .map(\n//       ({ name, image, temperament, description }) => `\n//     <div class=\"cat-info\">\n//       <p class=\"cat-name\">${name}</p>\n//       <img class=\"div-picture\" src=\"${image}\" alt=\"${name}\" />\n//       <p class=\"cat-temp\">${temperament}</p>\n//       <p class=\"cat-descr\">${description}</p>\n//     </div>\n//   `\n//     )\n//     .join('');\n// }\n\n// ---------------------\nimport { fetchBreeds, fetchCatByBreed } from './cat-api.js';\nimport Notiflix from 'notiflix';\nimport SlimSelect from 'slim-select';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\nconst divPicture = document.querySelector('.div-picture');\n\nfunction toggleLoader(display) {\n  loader.style.display = display;\n}\n\nfunction toggleCanInfo(display) {\n  catInfo.style.display = display;\n}\n\ntoggleLoader('none');\nerror.style.display = 'none';\n\ntoggleLoader('block');\n\nfetchBreeds()\n  .then(breeds => {\n    toggleLoader('none');\n\n    const positionBreeds = breeds.map(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      return option;\n    });\n    breedSelect.append(...positionBreeds);\n\n    new SlimSelect({\n      select: '.breed-select',\n    });\n  })\n  .catch(() => {\n    Notiflix.Notify.warning(\n      '❌ Oops! Something went wrong! Try reloading the page!',\n      {\n        // position: 'center-top' ,\n      }\n    );\n  })\n  .finally(() => {\n    toggleLoader('none');\n  });\n\nbreedSelect.addEventListener('change', event => {\n  toggleCanInfo('none');\n  toggleLoader('block');\n\n  fetchCatByBreed(event.target.value)\n    .then(cat => {\n      toggleLoader('none');\n      toggleCanInfo('block');\n\n      divPicture.innerHTML = `\n    <img class=\"picture\" src=\"${cat.url}\" alt=\"${cat.breeds[0].name}\">`;\n      catInfo.innerHTML = `\n      <h2 class=\"title\">${cat.breeds[0].name}</h2>\n      <p class=\"text\">${cat.breeds[0].description}</p>\n      <p class=\"temp\"><strong>Temperament:</strong> ${cat.breeds[0].temperament}</p>`;\n    })\n\n    .catch(() => {\n      Notiflix.Notify.warning(\n        '❌ Oops! Something went wrong! Try reloading the page!',\n        {\n          //  position: 'center-top' ,\n        }\n      );\n    })\n    .finally(() => {\n      toggleLoader('none');\n    });\n});\n"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","breedSelect","catInfo","loader","error","divPicture","toggleLoader","display","toggleCanInfo","breeds","positionBreeds","breed","option","SlimSelect","Notiflix","event","cat"],"mappings":"owBAiCAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEACFA,EAAM,SAAS,QAAU,gCAElB,MAAMC,EAAc,IAClBD,EAAM,IAAI,QAAQ,EAAE,KAAKE,GAAYA,EAAS,IAAI,EAG9CC,EAAkBC,GACtBJ,EACJ,IAAI,2BAA2BI,GAAS,EACxC,KAAKF,GAAYA,EAAS,KAAK,EAAE,EC2BhCG,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAa,SAAS,cAAc,cAAc,EAExD,SAASC,EAAaC,EAAS,CAC7BJ,EAAO,MAAM,QAAUI,CACzB,CAEA,SAASC,EAAcD,EAAS,CAC9BL,EAAQ,MAAM,QAAUK,CAC1B,CAEAD,EAAa,MAAM,EACnBF,EAAM,MAAM,QAAU,OAEtBE,EAAa,OAAO,EAEpBT,EAAa,EACV,KAAKY,GAAU,CACdH,EAAa,MAAM,EAEnB,MAAMI,EAAiBD,EAAO,IAAIE,GAAS,CACzC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9C,OAAAA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KACpBC,CACb,CAAK,EACDX,EAAY,OAAO,GAAGS,CAAc,EAEpC,IAAIG,EAAW,CACb,OAAQ,eACd,CAAK,CACL,CAAG,EACA,MAAM,IAAM,CACXC,EAAS,OAAO,QACd,wDACA,CAEC,CACP,CACA,CAAG,EACA,QAAQ,IAAM,CACbR,EAAa,MAAM,CACvB,CAAG,EAEHL,EAAY,iBAAiB,SAAUc,GAAS,CAC9CP,EAAc,MAAM,EACpBF,EAAa,OAAO,EAEpBP,EAAgBgB,EAAM,OAAO,KAAK,EAC/B,KAAKC,GAAO,CACXV,EAAa,MAAM,EACnBE,EAAc,OAAO,EAErBH,EAAW,UAAY;AAAA,gCACGW,EAAI,aAAaA,EAAI,OAAO,GAAG,SACzDd,EAAQ,UAAY;AAAA,0BACAc,EAAI,OAAO,GAAG;AAAA,wBAChBA,EAAI,OAAO,GAAG;AAAA,sDACgBA,EAAI,OAAO,GAAG,iBACpE,CAAK,EAEA,MAAM,IAAM,CACXF,EAAS,OAAO,QACd,wDACA,CAEC,CACT,CACA,CAAK,EACA,QAAQ,IAAM,CACbR,EAAa,MAAM,CACzB,CAAK,CACL,CAAC"}